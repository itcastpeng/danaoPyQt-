<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./qwebchannel.js"></script>

    <script language="JavaScript">
       window.onload = function () {
           new QWebChannel(qt.webChannelTransport, function(channel){
                bridge = channel.objects.bridge;
                // alert(bridge.createTaskListValue)

           });
       };


        function onShowMsgBox(){
            if (bridge){
                bridge.loginValue = '登录';
            }
        }

        function onShowMsg(){
            if (bridge){
                // bridge.createTaskListValue = ''
            }
        }

        function ShowMsgBox(){
            if (bridge){
                bridge.updateTaskListValue = '1';
                new QWebChannel(qt.webChannelTransport, function(channel){
                    obj = channel.objects.bridge;


               });
            }
        }

        function querenxiugai(){
            if (bridge){
                bridge.update_Data_value = "{'qiyong_status': True, 'task_name': '测试任务', 'task_jindu': 0, 'task_start_time': '03:03:03', 'task_status': '未查询', 'search_engine': ['1,4'], 'mohupipei': '撒旦发', 'zhixing': False, 'next_datetime': 1531422183240, 'keywords': '基本上附近VS吧'}"
        }
       }

         function qingkongshuju(){
            if (bridge){
                bridge.emptyDataTaskDetail = '1';
            }
        }

          function chakanxiangqing(){
            if (bridge){
                bridge.selectDataTaskDetail = '10';
                 new QWebChannel(qt.webChannelTransport, function(channel) {
                     obj = channel.objects.bridge;
                     alert(obj.selectDataTaskDetail)
                 });
            }
        }


        function pachong(){
            if (bridge){
                bridge.pcTaskValue = '2';
                 new QWebChannel(qt.webChannelTransport, function(channel) {
                     obj = channel.objects.bridge;
                     // alert(obj.pc_test)
                 });
            }
        }

        function pachongdingshi(){
            if (bridge){
                bridge.pcTaskTimingValue = '2,2018-07-12 17-08-01';
                 new QWebChannel(qt.webChannelTransport, function(channel) {
                     obj = channel.objects.bridge;
                     // alert(obj.pc_test)
                 });
            }
        }

         function deleteDataTask(){
            if (bridge){
                bridge.deleteDataTask = '[8]   ';
                 // new QWebChannel(qt.webChannelTransport, function(channel) {
                 //     obj = channel.objects.bridge;
                     // alert(obj.pc_test)
                 // });
            }
        }

         function viewThesubTasksDetail(){
            if (bridge){
                bridge.viewThesubTasksDetail = '15';
                 // new QWebChannel(qt.webChannelTransport, function(channel) {
                 //     obj = channel.objects.bridge;
                 //     alert(obj.viewThesubTasksDetail)
                 // });
            }
        }

         function saveTheQueryResults(){
            if (bridge){
                bridge.saveTheQueryResults = '15';
                 // new QWebChannel(qt.webChannelTransport, function(channel) {
                 //     obj = channel.objects.bridge;
                 //     alert(obj.viewThesubTasksDetail)
                 // });
            }
        }
         function setShouLuChaXun(){
            if (bridge){
                bridge.setShouLuChaXun = '1';

                 new QWebChannel(qt.webChannelTransport, function(channel) {
                     obj = channel.objects.bridge;
                     // alert(obj.setShouLuChaXun)
                 });
            }
        }

         function setShouLuDaoChuExcel(){
            if (bridge){
                bridge.setShouLuDaoChuExcel = '1';

                 // new QWebChannel(qt.webChannelTransport, function(channel) {
                 //     obj = channel.objects.bridge;
                     // alert(obj.setShouLuChaXun)
                 // });
            }
        }

    </script>
</head>

<body>
<form>
    <label for="frame">user_name:</label>
    <input type="text" name="frame" id="frame">
    <br />

    <div style="padding-top:10px ">
        <input type="button" value="登录" onclick="onShowMsgBox()">
    </div>


    <div style="padding-top:10px ">
        <input type="button" value="添加" onclick="onShowMsg()">
    </div>

     <div style="padding-top:10px ">
        <input type="button" value="传递用户id" onclick="ShowMsgBox()">
    </div>

     <div style="padding-top:10px ">
        <input type="button" value="确认修改" onclick="querenxiugai()">
    </div>

      <div style="padding-top:10px ">
        <input type="button" value="清空详情数据 传递任务id" onclick="qingkongshuju()">
    </div>

     <div style="padding-top:10px ">
        <input type="button" value="查看详情" onclick="chakanxiangqing()">
    </div>

     <div style="padding-top:10px ">
        <input type="button" value="触发爬虫" onclick="pachong()">
    </div>

     <div style="padding-top:10px ">
        <input type="button" value="触发爬虫定时任务" onclick="pachongdingshi()">
    </div>

    <div style="padding-top:10px ">
        <input type="button" value="删除选中任务" onclick="deleteDataTask()">
    </div>
     <div style="padding-top:10px ">
        <input type="button" value="查看子任务详情" onclick="viewThesubTasksDetail()">
    </div>
     <div style="padding-top:10px ">
        <input type="button" value="导出excl表格 保存结果" onclick="saveTheQueryResults()">
    </div>
    <div style="padding-top:10px ">
        <input type="button" value="收录查询" onclick="setShouLuChaXun()">
    </div>
    <div style="padding-top:10px ">
        <input type="button" value="收录导出 excel" onclick="setShouLuDaoChuExcel()">
    </div>

</form>
</body>
</html>
